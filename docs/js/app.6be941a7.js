(function(t){function e(e){for(var s,a,o=e[0],u=e[1],c=e[2],d=0,h=[];d<o.length;d++)a=o[d],r[a]&&h.push(r[a][0]),r[a]=0;for(s in u)Object.prototype.hasOwnProperty.call(u,s)&&(t[s]=u[s]);l&&l(e);while(h.length)h.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],s=!0,o=1;o<n.length;o++){var u=n[o];0!==r[u]&&(s=!1)}s&&(i.splice(e--,1),t=a(a.s=n[0]))}return t}var s={},r={app:0},i=[];function a(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=s,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)a.d(n,s,function(e){return t[e]}.bind(null,s));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var l=u;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var s=n("64a9"),r=n.n(s);r.a},"56d7":function(t,e,n){"use strict";n.r(e);var s=n("cebc"),r=(n("cadf"),n("551c"),n("f751"),n("097d"),n("2b0e")),i=n("2f62"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[t.micAccess?t._e():n("div",{staticClass:"alert alert-danger"},[t._v("\n    Нет доступа к микрофону на вашем устройстве!\n  ")]),n("div",{staticClass:"container",attrs:{id:"app"}},[t._m(0),n("router-view")],1),t.loggedIn?n("div",{staticClass:"bottom-panel"},[n("div",{staticClass:"alert alert-info"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-6 text-left"},t._l(t.audioUrls,function(e){return n("a",{key:"recording-"+e.id,staticClass:"btn btn-sm btn-info",staticStyle:{"margin-right":"0.5rem"},attrs:{href:e.url,download:e.filename}},[t._v("\n            Запись "+t._s(e.id)+"\n          ")])}),0),n("div",{staticClass:"col-6 text-right"},[t._v("\n          "+t._s(" ")+"\n          "),n("b",[t._v(t._s(t.userCode))]),t._v("\n          "+t._s(" ")+"\n          "),n("span",{staticClass:"logout-link",on:{click:t.logout}},[t._v("(Выйти)")])])])])]):t._e()])},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row header-title"},[n("div",{staticClass:"col-12 text-center"},[n("h3",[t._v("Пробные тесты ОГЭ/ЕГЭ по английскому")])])])}],u={computed:Object(s["a"])({},Object(i["c"])(["audioUrls","loggedIn","micAccess","userCode"])),created:function(){this.micAccess||this.checkMicrofone()},methods:Object(s["a"])({},Object(i["b"])(["checkMicrofone","logout","showNotification"]))},c=u,l=(n("034f"),n("2877")),d=Object(l["a"])(c,a,o,!1,null,null,null),h=d.exports,m=n("8c4f"),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[t.running?n("div",{staticClass:"col-12"},[n("div",{class:"alert alert-"+t.alertClass},[n("div",{staticClass:"row align-items-center"},[n("div",{staticClass:"col-4 text-left"},[t._v("\n          "+t._s(t.timerInfo)+"\n        ")]),n("div",{staticClass:"col-4 text-center"},[t._v("\n          "+t._s(t._f("timeFormat")(t.time))+"\n        ")]),n("div",{staticClass:"col-4 text-right"},[0!==this.currSubTaskNum?n("button",{class:"btn btn-sm btn-"+t.alertClass,on:{click:t.stop}},[t._v("\n            закончить досрочно\n          ")]):t._e()])])])]):t._e(),0!==t.currSubTaskNum?n("div",{staticClass:"col-12"},[n("e-content-component",{attrs:{exam:t.$route.params.id,currSubTaskNum:t.currSubTaskNum,task:t.currentTask}})],1):t._e(),t.isFinished?n("div",{staticClass:"col-12"},[t._m(0),n("p",[t._v("\n      Незабудьте скачать записи ваших ответов по ссылкам в нижней панели.\n    ")]),n("button",{staticClass:"btn btn-success",on:{click:t.goToExamsList}},[t._v("\n      Вернуться к списку экзаменов\n    ")])]):t._e()])},f=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[n("b",[t._v("Экзамен завершен!")])])}],v=n("75fc"),g=(n("96cf"),n("3b8d")),b=n("a745"),y=n.n(b),w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("span",{staticClass:"task-description"},[n("b",[t._v("Task "+t._s(t.task.id)+". "+t._s(t.task.title))])]),Array.isArray(t.filteredImages)&&t.filteredImages.length?n("div",t._l(t.filteredImages,function(e,s){return n("img",{key:"image-"+s,staticClass:"task-image img-thumbnail",attrs:{src:"/images/"+t.examType+"/"+t.exam+"/"+e},on:{click:function(n){return t.selectImage(e)}}})}),0):t._e(),n("p",[t._v(t._s(t.task.description))]),this.task.sequentialQuestions&&null!==this.selectedQuestion?n("div",{staticStyle:{"margin-bottom":"0.5rem"}},[n("div",{staticClass:"btn btn-sm btn-success",staticStyle:{"margin-right":"0.5rem",width:"50px"}},[t._v("\n      "+t._s(t._f("timeFormat")(t.time))+"\n    ")]),n("button",{staticClass:"btn btn-sm btn-success",on:{click:t.stop}},[t._v("\n      следующий ответ\n    ")])]):t._e(),t.filteredQuestions.length?n("ul",t._l(t.filteredQuestions,function(e,s){return n("li",{key:"question-"+s},[t._v("\n      "+t._s(e)+"\n    ")])}),0):t._e(),t.task.note?n("p",[n("i",[t._v(t._s(t.task.note))])]):t._e()])},k=[],_=(n("c5f6"),n("795b")),x=n.n(_),T=function(t){return new x.a(function(e){var n=new MediaRecorder(t),s=[];n.addEventListener("dataavailable",function(t){s.push(t.data)});var r=function(){n.start()},i=function(){return new x.a(function(t){n.addEventListener("stop",function(){var e=new Blob(s),n=URL.createObjectURL(e);t({audioUrl:n})}),n.stop()})};e({start:r,stop:i})})},C=function(t){var e=t%60,n=t/60>0?Math.floor(t/60):0;return(n>9?n:"0"+n)+":"+(e>9?e:"0"+e)},I={computed:Object(s["a"])({},Object(i["c"])(["examType"]),{filteredImages:function(){var t=this;return this.task.selectableImages&&this.selectedImage?this.task.images.filter(function(e){return e===t.selectedImage}):this.task.images},filteredQuestions:function(){return this.task.sequentialQuestions&&null!==this.selectedQuestion?this.task.questions.slice(this.selectedQuestion,this.selectedQuestion+1):this.task.questions}}),data:function(){return{selectedQuestion:null,selectedImage:null,time:0,timer:null}},filters:{timeFormat:function(t){return C(t)}},methods:{selectImage:function(t){this.task.selectableImages&&(this.selectedImage=t)},start:function(t){var e=this;t&&(this.time=t),this.timer||(this.timer=setInterval(function(){e.time>0?e.time--:e.stop()},1e3))},stop:function(){clearInterval(this.timer),this.time=0,this.timer=null,this.selectedQuestion<this.task.questions.length-1?(this.selectedQuestion+=1,this.start(this.task.questionsInterval)):this.selectedQuestion=null}},props:{exam:{required:!0,type:String},currSubTaskNum:{required:!0,type:Number},task:{required:!0,type:Object}},watch:{currSubTaskNum:function(t){this.task.sequentialQuestions&&2===t&&(this.selectedQuestion=0,this.start(this.task.questionsInterval))}}},O=I,S=(n("7ff8"),Object(l["a"])(O,w,k,!1,null,null,null)),j=S.exports,q={components:{"e-content-component":j},computed:Object(s["a"])({},Object(i["c"])(["audioUrls","tests","examType","stream","userCode"]),{alertClass:function(){return 0===this.currSubTaskNum?"info":1===this.currSubTaskNum?"warning":"success"},timerInfo:function(){return 0===this.currSubTaskNum?"Приготовьтесь!":1===this.currSubTaskNum?"Время на подготовку":"Идет запись"},iterations:function(){var t=this.selectedTest.tasks.length;return 2*t+t-1},currentInterval:function(){if(!this.currentTask)return null;switch(this.currSubTaskNum){case 1:return this.currentTask.prepareTime;case 2:return this.currentTask.recordTime;default:return 5}},currentTask:function(){var t=this;return this.selectedTest.tasks.reduce(function(e,n){return n.id===t.currTaskNum&&(e=n),e},{})},currTaskNum:function(){return Math.ceil(this.step/3)},currSubTaskNum:function(){return this.step%3},isFinished:function(){return this.step===3*this.selectedTest.tasks.length},selectedTest:function(){var t=this,e=this.tests.filter(function(e){return e.type===t.examType&&String(e.id)===String(t.$route.params.id)});return y()(e)&&e.length?e[0]:{}}}),created:function(){var t=Object(g["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.start(this.selectedTest.waitTime);case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),data:function(){return{recorder:null,running:!1,time:0,timer:null,step:0}},filters:{timeFormat:function(t){return C(t)}},methods:{start:function(t){var e=this;t&&(this.time=t),this.running=!0,this.timer||(this.timer=setInterval(function(){e.time>0?e.time--:e.stop()},1e3))},stop:function(){var t=Object(g["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(clearInterval(this.timer),this.time=0,this.running=!1,this.timer=null,this.step+=1,0!==this.currSubTaskNum){t.next=10;break}this.recorder&&this.recorder.stop().then(function(t){var n=t.audioUrl,s=e.currTaskNum,r=Object(v["a"])(e.audioUrls);r.push({id:s,filename:e.examType+". Задание "+s+". "+e.userCode+".wav",url:n}),e.$store.commit("updateAudioUrls",r),e.recorder=null}),this.isFinished||this.start(this.selectedTest.waitTime),t.next=16;break;case 10:if(2!==this.currSubTaskNum||!this.stream){t.next=15;break}return t.next=13,T(this.stream);case 13:this.recorder=t.sent,this.recorder.start();case 15:this.currentInterval&&this.start(this.currentInterval);case 16:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),goToExamsList:function(){this.$store.commit("updateAudioUrls",[]),this.$router.push("/exams")}}},N=q,$=Object(l["a"])(N,p,f,!1,null,null,null),U=$.exports,Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"col-4"},t._l(t.selectedTests,function(e){return n("router-link",{key:e.id,staticClass:"btn btn-info",attrs:{to:"/exam/"+e.id}},[t._v("\n      Вариант "+t._s(e.id)+"\n    ")])}),1)])},A=[],E={computed:Object(s["a"])({},Object(i["c"])(["examType","tests"]),{selectedTests:function(){var t=this;return this.tests.filter(function(e){return e.type===t.examType})}})},P=E,M=Object(l["a"])(P,Q,A,!1,null,null,null),R=M.exports,F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._m(0),n("div",{staticClass:"row"},[n("div",{staticClass:"col-12 text-center"},[n("router-link",{staticClass:"btn btn-success",attrs:{to:"/exams"}},[t._v("\n        Все понятно\n      ")])],1)]),n("div",{staticClass:"row",staticStyle:{"margin-top":"2rem"}},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-body"},[t._v('\n          Для проверки микрофона и качества записи воспользуйтесь кнопками\n          "Начать запись" и "ПРослушать запись".\n          '),n("div",{staticClass:"text-center",staticStyle:{"margin-top":"0.5rem"}},[n("button",{class:t.recordButtonClass,staticStyle:{"margin-right":"0.5rem"},on:{click:t.getRecord}},[t._v("\n              "+t._s(t.recording?"Остановить запись":"Начать запись")+"\n            ")]),n("button",{staticClass:"btn btn-sm  btn-warning",attrs:{disabled:!(!t.recording&&t.audio)},on:{click:t.playAudio}},[t._v("\n              Прослушать запись\n            ")])])])])])])])},Y=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row",staticStyle:{"margin-bottom":"1rem"}},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-body"},[t._v("\n          Сейчас вы будете выполнять устную часть ГИА-11. Ваши ответы\n          записываются. На экране вы видите время на подготовку (желтый\n          таймер). При выполнении задания вы также имеет ограничение по\n          времени (зеленый таймер).\n        ")])])])])}],L={computed:Object(s["a"])({},Object(i["c"])(["stream"]),{recordButtonClass:function(){return"btn btn-sm "+(this.recording?"btn-danger":"btn-primary")}}),data:function(){return{audio:null,recorder:null,recording:!1}},methods:{getRecord:function(){var t=Object(g["a"])(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.stream){t.next=15;break}if(!this.recording){t.next=10;break}return this.recording=!1,t.next=5,this.recorder.stop();case 5:e=t.sent,n=e.audioUrl,this.audio=new Audio(n),t.next=15;break;case 10:return this.recording=!0,t.next=13,T(this.stream);case 13:this.recorder=t.sent,this.recorder.start();case 15:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),playAudio:function(){this.audio&&this.audio.play()}}},B=L,D=Object(l["a"])(B,F,Y,!1,null,null,null),J=D.exports,W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("form",{on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.userCode,expression:"userCode"}],staticClass:"form-control",attrs:{placeholder:"Ваш шифр...",type:"text"},domProps:{value:t.userCode},on:{input:function(e){e.target.composing||(t.userCode=e.target.value)}}})]),n("div",{staticClass:"form-group"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.examType,expression:"examType"}],staticClass:"form-control",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.examType=e.target.multiple?n:n[0]}}},[n("option",{domProps:{value:null}},[t._v("-- тип экзамена --")]),n("option",{attrs:{value:"oge"}},[t._v("ОГЭ")]),n("option",{attrs:{value:"ege"}},[t._v("ЕГЭ")])])]),t._m(0)])])},z=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"form-group text-center"},[n("input",{staticClass:"btn btn-primary",attrs:{type:"submit"}})])}],K={computed:{examType:{get:function(){return this.$store.state.examType},set:function(t){this.$store.commit("updateUserState",{examType:t})}},userCode:{get:function(){return this.$store.state.userCode},set:function(t){this.$store.commit("updateUserState",{userCode:t})}}},methods:Object(s["a"])({},Object(i["b"])(["login"]))},G=K,H=Object(l["a"])(G,W,z,!1,null,null,null),V=H.exports;r["a"].use(m["a"]);var X=new m["a"]({routes:[{path:"/exam/:id",name:"exam",component:U},{path:"/exams",name:"exams",component:R},{path:"/instructions",name:"instructions",component:J},{path:"/login",name:"login",component:V}]}),Z=n("7329"),tt=n.n(Z),et=n("b6f0");r["a"].use(i["a"]);var nt=new i["a"].Store({state:{audioUrls:[],examType:null,loggedIn:!1,micAccess:null,step:0,stream:null,tests:et,userCode:""},getters:{getStep:function(t){return function(e){var n=e.path,s=e.direction,r=t.steps.indexOf(n);return"next"===s?t.steps[r+1]?t.steps[r+1]:null:"previous"===s&&t.steps[r-1]?t.steps[r-1]:null}}},mutations:{updateAudioUrls:function(t,e){t.audioUrls=e},updateMicState:function(t,e){t.micAccess=e.status,t.stream=e.stream},updateUserState:function(t,e){e.hasOwnProperty("loggedIn")&&(t.loggedIn=e.loggedIn),e.hasOwnProperty("examType")&&(t.examType=e.examType),e.hasOwnProperty("userCode")&&(t.userCode=e.userCode)}},actions:{checkMicrofone:function(){var t=Object(g["a"])(regeneratorRuntime.mark(function t(e){var n,s,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,s=e.dispatch,t.prev=1,t.next=4,navigator.mediaDevices.getUserMedia({audio:!0});case 4:r=t.sent,s("showNotification",{text:"Микрофон доступен!",type:"success"}),n("updateMicState",{status:!0,stream:r}),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](1),n("updateMicState",{status:!1,stream:null}),s("showNotification",{text:"Нет доступа к микрофону!",type:"error"});case 13:case"end":return t.stop()}},t,null,[[1,9]])}));function e(e){return t.apply(this,arguments)}return e}(),login:function(t){var e=t.commit,n=t.dispatch,s=t.state;s.userCode&&s.examType?e("updateUserState",{loggedIn:!0}):n("showNotification",{text:"Необходимо указать ваш шифр и тип экзамена!",type:"error"})},logout:function(t){var e=t.commit;e("updateUserState",{examType:null,loggedIn:!1,userCode:""})},showNotification:function(t,e){new tt.a({theme:"bootstrap-v4",text:e.text,timeout:2e3,type:e.type}).show()}}});n("f9e3"),n("e625"),n("e2e4");r["a"].config.productionTip=!1,new r["a"]({computed:Object(s["a"])({},Object(i["c"])(["loggedIn"])),created:function(){this.loggedIn||"/login"===this.$route.path||this.$router.push("/login")},router:X,store:nt,render:function(t){return t(h)},watch:{loggedIn:function(t){t||"/login"===this.$route.path||this.$router.push("/login"),t&&"/login"===this.$route.path&&this.$router.push("/instructions")}}}).$mount("#app")},"64a9":function(t,e,n){},"7ff8":function(t,e,n){"use strict";var s=n("d258"),r=n.n(s);r.a},b6f0:function(t){t.exports=[{id:1,tasks:[{id:1,title:"Imagine that you are preparing a project with your friend. You have found some interesting material for the presentation and you want to read this text to your mind. You have 1.5 minutes to read the text silently, then be ready to read it out aloud. You will not have more than 1.5 minutes to read it.",description:"When you hear the word «panda», Kung Fu Panda is the first thing that comes to your mind. Pandas are an extremely popular animal. They look nice. Even small children recognize a panda when they see it. Still, most present-day toddlers know about pandas from movies and not books. Pandas are also called «panda bears». The general life span of a panda is 20 years if they are wild. It can be up to 25 years if they are captive and protected. There is an interesting thing about the eye patch of the pauda. When a panda is a cub, it is circular in shape. Alony its life journey it changes to the shape of a teardrop. Pandas are only found in China. For quite a while now, Chinese people have used panda as symbol of peace. In ancient times, a white flag with a picture of panda was raised in order to declare peace during wars.",images:[],questions:[],sequentialQuestions:!1,questionsInterval:0,selectableImages:!1,note:"",prepareTime:89,recordTime:89},{id:2,title:"Study the advertisement.",description:"New bicycle rental! You are considering renting bicycles and now you'd like to get more information. In 1.5 minutes you are to ask five direct questions to find ont about the following:",images:["2.png"],questions:["location","opening hours","rental price of adult's and children's bicycles","discounts for families","possibility of renting a helmet"],sequentialQuestions:!0,questionsInterval:19,selectableImages:!1,note:"You have 20 seconds to ask each question.",prepareTime:89,recordTime:99},{id:3,title:"These are photos from your photo album. Choose one photo to describe to your friend.",description:"You will have to start speaking in 1.5 minutes and will speak for not more than 2 minutes (12-15 sentences). In your talk remember to speak about:",images:["3-1.png","3-2.png","3-3.png"],questions:["where and when the photo was taken","what who is in the photo","what is happening","why you keep the photo your album","why you decided to show the picture to your friend"],sequentialQuestions:!1,questionsInterval:0,selectableImages:!0,note:"You have to talk continuously, starting with: «I've chosen photo number... »",prepareTime:89,recordTime:119},{id:4,title:"Study the two photographs. In 1.5 minutes be ready to compare and contrast the photographs:",description:"",images:["4-1.png","4-2.png"],questions:["give a brief description of the photos (action, location)","say what the pictures have in common","say in what way the pictures are different","say which of the ways of watching films presented in the pictures you prefer","explain why"],sequentialQuestions:!1,questionsInterval:0,selectableImages:!1,note:"You will speak for not more than 2 minutes (12-15 sentences). You have to talk continuously.",prepareTime:89,recordTime:119}],waitTime:4,type:"ege"}]},d258:function(t,e,n){}});
//# sourceMappingURL=app.6be941a7.js.map